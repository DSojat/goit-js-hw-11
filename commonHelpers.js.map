{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function getGallerySearch(searchImageName) {\n  const searchParams = new URLSearchParams({\n    key: '42608378-1c88fd965c25ed4d8c49bb63d',\n    q: searchImageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => alert(error));\n}\n","const gallery = document.querySelector('.gallery-list');\n\nexport function galleryLoader() {\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n}\n\nexport default function galleryAdd(array) {\n  const markup = array\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n    <li class=\"gallery-item\">\n      <div class=\"gallery-image-box\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n      </div>\n      <div class=\"gallery-stats\">\n        <ul>\n          Likes\n          <li>${likes}</li>\n        </ul>\n        <ul>\n          Views\n          <li>${views}</li>\n        </ul>\n        <ul>\n          Comments\n          <li>${comments}</li>\n        </ul>\n        <ul>\n          Downloads\n          <li>${downloads}</li>\n        </ul>\n      </div>\n    </li>\n        `\n    )\n    .join('');\n  gallery.innerHTML = markup;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  messageColor: 'white',\n  messageSize: '16',\n  messageLineHeight: '24',\n  maxWidth: 432,\n  theme: 'dark',\n  position: 'topRight',\n  iconUrl: './img/x-octagon.svg',\n});\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport getGallerySearch from './js/pixabay-api';\nimport galleryAdd from './js/render-functions';\nimport { galleryLoader } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery-list');\nlet searchImageName = '';\nconst instanceGallery = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  searchImageName = searchForm.elements.search.value.trim();\n\n  if (searchImageName) {\n    galleryLoader();\n    getGallerySearch(searchImageName).then(({ hits }) => {\n      if (hits.length === 0) {\n        gallery.innerHTML = '';\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: '#EF4040',\n        });\n      } else {\n        galleryAdd(hits);\n        instanceGallery.refresh();\n      }\n    });\n    searchForm.reset();\n  } else {\n    gallery.innerHTML = '';\n  }\n});\n"],"names":["getGallerySearch","searchImageName","url","response","error","gallery","galleryLoader","galleryAdd","array","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iziToast","searchForm","instanceGallery","SimpleLightbox","event","hits"],"mappings":"6vBAAe,SAASA,EAAiBC,EAAiB,CAQxD,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CACmD,GAEpD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,MAAMA,CAAK,CAAC,CAChC,CClBA,MAAMC,EAAU,SAAS,cAAc,eAAe,EAE/C,SAASC,GAAgB,CAC9BD,EAAQ,UAAY,8BACtB,CAEe,SAASE,EAAWC,EAAO,CACxC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA;AAAA,wCAGgCL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMtDC,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKpB,EACA,KAAK,EAAE,EACVX,EAAQ,UAAYI,CACtB,CC5CAQ,EAAS,SAAS,CAChB,aAAc,QACd,YAAa,KACb,kBAAmB,KACnB,SAAU,IACV,MAAO,OACP,SAAU,WACV,QAAS,qBACX,CAAC,EAWD,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDb,EAAU,SAAS,cAAc,eAAe,EACtD,IAAIJ,EAAkB,GACtB,MAAMkB,EAAkB,IAAIC,EAAe,kBAAmB,CAC5D,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpBpB,EAAkBiB,EAAW,SAAS,OAAO,MAAM,KAAI,EAEnDjB,GACFK,IACAN,EAAiBC,CAAe,EAAE,KAAK,CAAC,CAAE,KAAAqB,CAAI,IAAO,CAC/CA,EAAK,SAAW,GAClBjB,EAAQ,UAAY,GACpBY,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,SAC3B,CAAS,IAEDV,EAAWe,CAAI,EACfH,EAAgB,QAAO,EAE/B,CAAK,EACDD,EAAW,MAAK,GAEhBb,EAAQ,UAAY,EAExB,CAAC"}